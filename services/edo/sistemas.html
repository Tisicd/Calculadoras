<!-- v2.0 - Grid de matriz mejorado -->
<div id="edosysContainer" class="min-h-screen bg-gray-50 p-4">
  <div class="max-w-7xl mx-auto space-y-6">
    
    <!-- Título -->
    <section class="bg-white rounded-2xl shadow-xl p-6">
      <h1 class="text-2xl font-bold text-indigo-600 mb-4">Sistemas de EDO Lineales</h1>
      <p class="text-slate-600">Resolver sistemas de la forma: <span class="math-expression">$$\frac{d\mathbf{Y}}{dx} = A \mathbf{Y}$$</span></p>
    </section>

    <!-- Ejemplos -->
    <section class="bg-white rounded-2xl shadow-xl p-6">
      <h2 class="text-xl font-semibold text-indigo-600 mb-4">Ejemplos para probar</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
        <button data-example="[[1,2],[3,4]]" class="edosys-example-btn p-3 border border-indigo-200 rounded-lg hover:bg-indigo-50 text-left">
          <div class="font-medium">Sistema 2x2</div>
          <div class="text-sm text-gray-600">[[1,2],[3,4]]</div>
        </button>
        <button data-example="[[2,0],[0,3]]" class="edosys-example-btn p-3 border border-indigo-200 rounded-lg hover:bg-indigo-50 text-left">
          <div class="font-medium">Diagonal</div>
          <div class="text-sm text-gray-600">[[2,0],[0,3]]</div>
        </button>
        <button data-example="[[0,1],[-1,0]]" class="edosys-example-btn p-3 border border-indigo-200 rounded-lg hover:bg-indigo-50 text-left">
          <div class="font-medium">Oscilador</div>
          <div class="text-sm text-gray-600">[[0,1],[-1,0]]</div>
        </button>
        <button data-example="[[1,1],[0,1]]" class="edosys-example-btn p-3 border border-indigo-200 rounded-lg hover:bg-indigo-50 text-left">
          <div class="font-medium">Triangular</div>
          <div class="text-sm text-gray-600">[[1,1],[0,1]]</div>
        </button>
      </div>
    </section>

    <!-- Panel de controles + matriz -->
    <section class="bg-white rounded-2xl shadow-xl p-6 space-y-6">
      <h1 class="text-2xl font-bold text-indigo-600">Sistema de EDO</h1>

      <!-- Tamaño -->
      <div>
        <p class="text-sm text-gray-600 mb-2">Tamaño de la matriz</p>
        <div id="edosysSizeButtons" class="flex gap-3 flex-wrap">
          <button data-size="2" class="edosys-size-btn border border-indigo-300 text-indigo-700 bg-white shadow-sm hover:bg-indigo-50 transition px-4 py-2 rounded-xl">2×2</button>
          <button data-size="3" class="edosys-size-btn border border-indigo-300 text-indigo-700 bg-white shadow-sm hover:bg-indigo-50 transition px-4 py-2 rounded-xl">3×3</button>
          <button data-size="4" class="edosys-size-btn border border-indigo-300 text-indigo-700 bg-white shadow-sm hover:bg-indigo-50 transition px-4 py-2 rounded-xl">4×4</button>
        </div>
      </div>

      <!-- Grid de inputs -->
      <div id="edosysMatrixGrid" class="grid gap-3"></div>

      <!-- Botón resolver -->
      <button 
        id="edosysSolve" 
        class="w-full bg-indigo-600 text-white font-medium py-3 rounded-lg hover:bg-indigo-700 transition disabled:opacity-50 disabled:cursor-not-allowed"
      >
        Resolver Sistema
      </button>
    </section>

    <!-- Solución paso a paso -->
    <section class="bg-white rounded-2xl shadow-xl p-6">
      <h2 class="text-xl font-semibold text-indigo-600 mb-3">Solución paso a paso</h2>

      <!-- Stream de pasos -->
      <div id="edosysSteps" class="max-h-[65vh] overflow-y-auto space-y-4">
        <p class="text-slate-600">Completa la matriz y presiona <b>Resolver Sistema</b>.</p>
      </div>
    </section>
  </div>
</div>
